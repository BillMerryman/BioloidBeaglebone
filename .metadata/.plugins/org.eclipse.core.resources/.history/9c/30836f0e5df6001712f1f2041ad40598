/** @file visionManager.h
 *  @brief Function prototypes for managing images/vision.
 *
 *  These are the prototypes for functions that: setup the pointers to where the PRU will
 *  write image data and an image data ready flag, process and display the image data
 *  from the shared memory in OpenCV windows, and garbage collect the image data when the
 *  program shuts down. The image ready flag is a cheap way to deal with the fact
 *  that the PRU can write data to the shared memory much faster than the application
 *  processor can consume it. We will want to come up with a better way of working with images
 *  on the application processor side. Image processing is currently just using OpenCV
 *  cvInRangeS function to mask a certain color (aibo ball pink) and cvMoments to identify
 *  instances of it in the image. The initialize function creates two windows, one for the
 *  image and one for the thresholded mask. The main loop updates these windows when the image
 *  ready flag is set. Image data is acquired by the PRU from an OV7675 camera module.
 *
 *  @author Bill Merryman
 *  @bug No known bugs.
 *
 *  Created on: Nov 19, 2017
 *
 */

#ifndef VISIONMANAGER_H_
#define VISIONMANAGER_H_

/** @brief Initializes the image/vision subsystem
 *
 * 	Currently gets pointers to the portion of PRU driver allocated memory that will
 * 	be used for holding the image data acquired by the PRU from an ov7675 camera module.
 *
 *
 * 	@return void.
 *
 */
void visionManagerInitialize();

/** @brief Initializes the motion subsystem
 *
 * 	Currently gets pointers to the portion of PRU driver allocated memory that will
 * 	be used for storing pages and communicating between the application processor and
 * 	the PRU that will be managing the actuators. It also currently loads the motion page
 * 	file into the portion of PRU allocated memory we set aside for that.
 *
 * 	@return void.
 *
 */
void visionManagerUninitialize();

/** @brief Initializes the motion subsystem
 *
 * 	Currently gets pointers to the portion of PRU driver allocated memory that will
 * 	be used for storing pages and communicating between the application processor and
 * 	the PRU that will be managing the actuators. It also currently loads the motion page
 * 	file into the portion of PRU allocated memory we set aside for that.
 *
 * 	@return void.
 *
 */
void visionManagerProcess();

#endif /* IMAGEPROCESSOR_H_ */
